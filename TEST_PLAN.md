## Среда
- **Android**: Pixel 9 pro (Android 15, эмулятор)
- **Expo dev build** (Android), **Expo Go** (для smoke-проверок без уведомлений)
- **Инструменты**: Expo DevTools
- **Сборка**: `npx expo run:android --variant devClient`, `npm run lint`, `npm run test`

## Покрытие
1. **Smoke** — старт, переходы, отсутствие аварий.
2. **Функциональные**
   - Игровая механика (выделение, своп, падение, начисления, бласт).
   - UI/UX (адаптивность, тёмная/светлая тема).
   - Навигация (таб-бар, ярлыки, backstack).
   - Магазин улучшений (покупка, лимиты, звуковой отклик, сохранение).
   - Хранилище (восстановление поля, апгрейдов, валюты).
   - Уведомления (расписание, ручной запуск, повтор, звук, переход по клику).
   - Быстрые действия (ярлыки, глубокие ссылки).
3. **Отрицательные**: недостаток монет, предельный уровень, потеря соединения (имитация), запрет уведомлений, отключение звука.
4. **Производительность**: FPS в `npx expo start --android --no-dev`, время загрузки.
5. **Регресс**: сценарии из предыдущих задач (иконки, сохранения, UI).

## Сценарии (выдержки)

### 1. Навигация
- [x] Запуск → таб «Поле» по умолчанию.
- [x] Переключение на «Улучшения», возврат.
- [x] Android ярлык «Башня улучшений» открывает нужный таб.
- [x] Back button на Android возвращает в «Поле», второй back закрывает игру.

### 2. Геймплей
- [x] Первый тап подсвечивает клетку, второй (соседний) инициирует обмен.
- [x] Нет совпадения → клетки возвращаются, `grid.canMove` снова true.
- [x] Совпадение → начисления, заполнение статистики/валюты.
- [x] Комбо и бласт (при наличии апгрейда) срабатывают, UI не зависает.

### 3. Магазин улучшений
- [x] Каталог загружается, статусы уровня корректны.
- [x] Покупка доступного апгрейда тратит монеты, повышает уровень, обновляет стоимость.
- [x] Сообщение об ошибке при недостатке монет.
- [x] Напоминание о наградах: кнопка возвращает результат, уведомление приходит (dev build).
- [x] Перезапуск приложения сохраняет уровни и баланс.

### 4. Хранилище
- [x] После перезапуска поле восстанавливается (сравнить скрин / snapshot).
- [x] Очистить данные (через настройки приложения) → новая сетка и прогресс.

### 5. Уведомления
- [x] При первом запуске запрос разрешения и отображение статуса.
- [x] Плановое уведомление приходит через 4 ч (проверка через `adb shell cmd alarm print`).
- [x] Клик по уведомлению открывает таб «Улучшения».
- [ ] Звук `notification.mp3` воспроизводится в dev build.
- [x] Отмена разрешений → уведомления не планируются, кнопка показывает сообщение о запрете.

### 6. Быстрые действия
- [ ] На Android длительный тап по иконке → ярлыки «Поле» и «Башня улучшений».
- [ ] Выбор ярлыка открывает соответствующий экран.
- [ ] Модуль отсутствует (Expo Go) → нет ошибок в логах.

### 7. Темing & UI
- [ ] Переключение темы ОС → цвета обновляются.
- [x] Таблет layout: сетка слева, меню справа.
- [x] Бейдж уровня переходит на новую строку (Android).